<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Wixdora Shop - محصولات الکترونیک</title>
<style>
:root {
    --primary: #007bff;
    --danger: #dc3545;
    --light: #f8f9fa;
}
* { box-sizing: border-box; margin:0; padding:0; }
body { font-family: Tahoma, Arial, sans-serif; background-color: var(--light); color:#333; line-height:1.6; padding-top:70px; }

/* Navbar */
.navbar { background: var(--primary); color:white; padding:1rem 0; position:fixed; top:0; width:100%; z-index:1000; box-shadow:0 2px 10px rgba(0,0,0,0.1); }
.nav-container { display:flex; justify-content:space-between; align-items:center; max-width:1200px; margin:0 auto; padding:0 15px;}
.nav-brand { font-size:1.5rem; font-weight:bold; color:white; text-decoration:none; }
.nav-links { display:flex; list-style:none; gap:1.5rem; }
.nav-links a { color:white; text-decoration:none; padding:0.5rem 1rem; border-radius:5px; transition:background 0.3s; }
.nav-links a:hover { background: rgba(255,255,255,0.2); }
.menu-btn { display:none; font-size:1.8rem; background:none; border:none; color:white; cursor:pointer; }

/* Badge */
.badge { background: var(--danger); color:white; border-radius:50%; padding:0.2rem 0.5rem; font-size:0.8rem; margin-right:0.3rem; }

/* Buttons */
.btn { display:inline-block; padding:0.75rem 1.5rem; background:var(--primary); color:white; border:none; border-radius:5px; cursor:pointer; font-size:1rem; text-decoration:none; transition:background 0.3s; }
.btn:hover { background:#0056b3; }

/* Products Grid */
.products-grid { display:grid; grid-template-columns:repeat(auto-fit, minmax(250px,1fr)); gap:1.5rem; margin:2rem 15px; }
.product-card { background:white; border-radius:10px; padding:1rem; box-shadow:0 4px 15px rgba(0,0,0,0.1); text-align:center; transition: transform 0.3s ease; }
.product-card:hover { transform: translateY(-5px); }
.product-name { font-size:1.2rem; font-weight:bold; margin:0.5rem 0; }
.product-price { color:var(--primary); font-size:1.3rem; font-weight:bold; margin:1rem 0; }
.product-description { color:#777; font-size:0.85rem; margin-bottom:1rem; height:60px; overflow:hidden; }

/* Alert */
.alert { position: fixed; top:100px; right:20px; padding:1rem 1.5rem; border-radius:5px; z-index:9999; background:#d4edda; color:#155724; border:1px solid #c3e6cb; display:none; box-shadow:0 4px 12px rgba(0,0,0,0.1); }

/* Responsive */
@media(max-width:768px){
    .nav-links { 
        position: absolute; top:70px; right:0; background:var(--primary); flex-direction: column; width:100%; display:none; 
    }
    .nav-links.active { display:flex; }
    .nav-links li { text-align:center; padding:0.8rem 0; }
    .menu-btn { display:block; }

    .products-grid { grid-template-columns:1fr; margin:2rem 10px; }
}
</style>
</head>
<body>
<nav class="navbar">
<div class="nav-container">
<a href="index.html" class="nav-brand">🛍️ Wixdora Shop</a>
<button class="menu-btn" onclick="toggleMenu()">☰</button>
<ul class="nav-links" id="navLinks">
<li><a href="index.html">خانه</a></li>
<li><a href="products.html">محصولات</a></li>
<li><a href="cart.html">سبد خرید <span id="cart-count" class="badge">0</span></a></li>
<li><a href="login.html">ورود</a></li>
</ul>
</div>
</nav>

<div class="alert" id="alert"></div>

<div class="container">
<h1 style="text-align:center; margin:2rem 0;">محصولات الکترونیک</h1>
<div class="products-grid" id="products-container"></div>
</div>

<script>
// Navbar toggle
function toggleMenu(){
    document.getElementById('navLinks').classList.toggle('active');
}

// آرایه محصولات با لینک‌های آنلاین از Pexels
const allProducts = [
{ id:1, name:"لپ‌تاپ گیمینگ ایسوس", price:45000, description:"لپ‌تاپ گیمینگ با پردازنده Core i7 و کارت گرافیک RTX 3060", img:"https://images.pexels.com/photos/18105/pexels-photo.jpg?auto=compress&cs=tinysrgb&w=800" },
{ id:2, name:"هدفون بی‌سیم سونی WH-1000XM4", price:8500, description:"هدفون بی‌سیم با نویزکنسلینگ عالی و باتری طولانی", img:"https://images.pexels.com/photos/3394668/pexels-photo-3394668.jpeg?auto=compress&cs=tinysrgb&w=800" },
{ id:3, name:"گوشی هوشمند سامسونگ Galaxy S23", price:12000, description:"گوشی هوشمند با دوربین عالی و پردازنده قوی", img:"https://images.pexels.com/photos/699122/pexels-photo-699122.jpeg?auto=compress&cs=tinysrgb&w=800" },
{ id:4, name:"ساعت هوشمند اپل واچ سری 9", price:12000, description:"ساعت هوشمند با قابلیت اندازه‌گیری ضربان قلب و GPS", img:"https://images.pexels.com/photos/437037/pexels-photo-437037.jpeg?auto=compress&cs=tinysrgb&w=800" },
{ id:5, name:"دوربین دیجیتال کانن EOS R6", price:90000, description:"دوربین حرفه‌ای با سنسور فول فریم و فیلمبرداری 4K", img:"https://images.pexels.com/photos/205926/pexels-photo-205926.jpeg?auto=compress&cs=tinysrgb&w=800" }
];

function getCartFromStorage(){
    let cart = localStorage.getItem('wixdora_cart');
    return cart ? JSON.parse(cart) : [];
}

function saveCartToStorage(cart){ 
    try{ 
        localStorage.setItem('wixdora_cart',JSON.stringify(cart)); 
    } catch(e){ 
        console.log('خطا در ذخیره سبد خرید'); 
    } 
}

function updateCartCount(){
    const cart = getCartFromStorage();
    let totalItems = 0;
    for(let i=0; i<cart.length; i++){ totalItems += cart[i].quantity; }
    const cartCount = document.getElementById('cart-count');
    if(cartCount){ cartCount.textContent = totalItems; }
}

function showAlert(message){
    const alert = document.getElementById('alert');
    alert.textContent = message;
    alert.style.display = 'block';
    setTimeout(()=>{ alert.style.display='none'; }, 3000);
}

function displayProducts(products){
    const container = document.getElementById('products-container');
    let html = '';
    for(let i=0; i<products.length; i++){
        const product = products[i];
        html += `
        <div class="product-card">
            <img src="${product.img}" alt="${product.name}" style="width:100%; height:200px; object-fit:cover; border-radius:10px; margin-bottom:1rem;">
            <div class="product-name">${product.name}</div>
            <div class="product-description">${product.description}</div>
            <div class="product-price">${product.price.toLocaleString()} افغانی</div>
            <button class="btn" onclick="addToCart(${product.id})">افزودن به سبد خرید</button>
        </div>`;
    }
    container.innerHTML = html;
}

function addToCart(productId){
    let cart = getCartFromStorage();
    const product = allProducts.find(p => p.id === productId);
    if(!product){ showAlert('محصول یافت نشد!'); return; }
    let existing = cart.find(item => item.id === productId);
    if(existing){ existing.quantity += 1; }
    else { cart.push({id:product.id, name:product.name, price:product.price, img:product.img, quantity:1}); }
    saveCartToStorage(cart);
    updateCartCount();
    showAlert('✅ ' + product.name + ' به سبد خرید اضافه شد!');
}

window.addEventListener('load', function(){
    displayProducts(allProducts);
    updateCartCount();
});
</script>
</body>
</html>
